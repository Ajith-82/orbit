<svg viewBox="0 0 600 450" xmlns="http://www.w3.org/2000/svg">
  <!-- Define arrowheads -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Client Code -->
  <rect x="250" y="20" width="100" height="40" rx="5" fill="#bbf" stroke="#333" stroke-width="1"/>
  <text x="300" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">Client Code</text>

  <!-- RetrieverFactory -->
  <rect x="225" y="100" width="150" height="40" rx="5" fill="#fdb" stroke="#333" stroke-width="1"/>
  <text x="300" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">RetrieverFactory</text>

  <!-- ADAPTER_REGISTRY -->
  <rect x="225" y="180" width="150" height="40" rx="5" fill="#fdb" stroke="#333" stroke-width="1"/>
  <text x="300" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">ADAPTER_REGISTRY</text>

  <!-- Base Retrievers -->
  <rect x="50" y="280" width="120" height="40" rx="5" fill="#f9f" stroke="#333" stroke-width="2"/>
  <text x="110" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">BaseRetriever</text>

  <rect x="190" y="280" width="140" height="40" rx="5" fill="#f9f" stroke="#333" stroke-width="2"/>
  <text x="260" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">VectorDBRetriever</text>

  <rect x="350" y="280" width="100" height="40" rx="5" fill="#f9f" stroke="#333" stroke-width="2"/>
  <text x="400" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">SQLRetriever</text>

  <!-- Concrete Retrievers -->
  <rect x="170" y="380" width="140" height="40" rx="5" fill="#bbf" stroke="#333" stroke-width="1"/>
  <text x="240" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">QAChromaRetriever</text>

  <rect x="340" y="380" width="130" height="40" rx="5" fill="#bbf" stroke="#333" stroke-width="1"/>
  <text x="405" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="14">QASqliteRetriever</text>

  <!-- Arrows -->
  <!-- Client to Factory -->
  <line x1="300" y1="60" x2="300" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Factory to Registry -->
  <line x1="300" y1="140" x2="300" y2="180" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Registry to Base Retrievers -->
  <line x1="230" y1="220" x2="130" y2="280" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="300" y1="220" x2="260" y2="280" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="370" y1="220" x2="400" y2="280" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Base to Concrete Retrievers -->
  <line x1="260" y1="320" x2="240" y2="380" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="320" x2="405" y2="380" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <rect x="450" y="20" width="140" height="120" rx="5" fill="white" stroke="#999" stroke-width="1"/>
  <text x="520" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Legend</text>

  <rect x="460" y="50" width="30" height="20" rx="3" fill="#f9f" stroke="#333" stroke-width="2"/>
  <text x="500" y="64" font-family="Arial, sans-serif" font-size="12">Abstract</text>

  <rect x="460" y="75" width="30" height="20" rx="3" fill="#bbf" stroke="#333" stroke-width="1"/>
  <text x="500" y="89" font-family="Arial, sans-serif" font-size="12">Concrete</text>

  <rect x="460" y="100" width="30" height="20" rx="3" fill="#fdb" stroke="#333" stroke-width="1"/>
  <text x="500" y="114" font-family="Arial, sans-serif" font-size="12">Factory</text>
</svg>